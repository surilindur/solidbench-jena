# SolidBench + Apache Jena Fuseki

This is an example setup for serving the [SolidBench](https://github.com/SolidBench/SolidBench.js) dataset
from a SPARQL endpoint powered by [Apache Jena Fuseki](https://github.com/apache/jena).
The main purpose of this setup would be to validate the query results acquired from other SPARQL query engines.
The process is the following:

1. Generate the SolidBench dataset, using whichever configuration is intended to be evaluated.
   However, in addition to the normal fragmentation between files, an additional one should to be used,
   that places an identical copy of the test data into a single file on disk.
   This single file will then be loaded into Apache Jena to be queried against.
2. Start the Apache Jena SPARQL endpoint using the single-file SolidBench dataset.
3. Execute the queries generated by SolidBench for this dataset on the SPARQL endpoint.

There is an example fragmenter config [included](./fragmenter-config-pod.json),
that will fragment the default SolidBench dataset into a single N-Quads file,
for illustrative purposes only.

## Dependencies

* Node.js + Corepack
* Python 3.11+
* Docker + BuildKit + Docker Compose

## Usage

To generate the default dataset:

```bash
yarn run generate
```

This will generate `out-fragments/http.nq` with all the benchmark data in it.
To start the SPARQL endpoint on top of this file:

```bash
yarn run serve
```

The endpoint will take a while to start, and the build will also take some time on first run.
Then, it is possible to execute all the queries from `out-queries/` by running:

```bash
yarn run query
```

This will produce a set of files under `results/` containing:

* The exact queries that were executed, as they were split from the SolidBench query files.
* The results as `application/sparql-results+json` acquired from the server.
* The client-side query execution time measurements, as well as any errors logged.

## Issues

Please feel free to report any issues in the issue tracker on GitHub.
However, do note that this is more an example setup, and not meant for actual use.

## License

The setup here is copyrighted by [Ghent University â€“ imec](http://idlab.ugent.be/)
and released under the [CC-BY-4.0 license](https://creativecommons.org/licenses/by/4.0/).
